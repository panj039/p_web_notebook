{% if item.type == 'file' %}
    <div class="file-item">
        <span class="file-icon">📄</span>
        <a href="{{ url_for('view_file', filepath=item.path) }}" class="file-name">{{ item.name }}</a>
        <span class="file-size">({{ "%.1f KB"|format(item.size / 1024) }})</span>
        <div class="file-actions">
            <a href="{{ url_for('edit_file', filepath=item.path) }}" class="btn btn-small">✏️ Edit</a>
            <form method="POST" action="{{ url_for('delete_file', filepath=item.path) }}" style="display: inline;" 
                  onsubmit="return confirm('Are you sure you want to delete this file?')">
                <button type="submit" class="btn btn-small btn-danger">🗑️ Delete</button>
            </form>
        </div>
    </div>
{% elif item.type == 'directory' %}
    <div class="directory-item">
        <details>
            <summary>
                <span class="directory-icon">📁</span>
                <span class="directory-name">{{ item.name }}</span>
            </summary>
            <div class="directory-content">
                {% for child in item.children %}
                    {% with item = child %}
                        {% include 'file_item.html' %}
                    {% endwith %}
                {% endfor %}
            </div>
        </details>
    </div>
{% endif %}